{% extends 'baseBack.html.twig' %}

{% block title %} Nouvelle op√©ration de recyclage {% endblock %}

{% block body %}
{{ parent() }}

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0">
                <div class="card-header text-white text-center" style="background-color: #2E7D32;">
                    <h2 class="fw-bold">üåø Nouvelle op√©ration de recyclage</h2>
                </div>
                <div class="card-body bg-light">
                    {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

                    <div class="mb-3">
                        {{ form_label(form.quantiteRecyclee, '‚ôªÔ∏è Quantit√© recycl√©e (kg)', {'label_attr': {'class': 'form-label text-dark fw-bold fs-5'}}) }}
                        {{ form_widget(form.quantiteRecyclee, {'attr': {'class': 'form-control border-success', 'placeholder': 'Ex: 150'}}) }}
                        {{ form_errors(form.quantiteRecyclee) }}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.energieProduite, '‚ö° √ânergie produite (kWh)', {'label_attr': {'class': 'form-label text-dark fw-bold fs-5'}}) }}
                        {{ form_widget(form.energieProduite, {'attr': {'class': 'form-control border-success', 'placeholder': 'Ex: 75'}}) }}
                        {{ form_errors(form.energieProduite) }}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.dateDebut, 'üìÖ Date de d√©but', {'label_attr': {'class': 'form-label text-dark fw-bold fs-5'}}) }}
                        {{ form_widget(form.dateDebut, {'attr': {'class': 'form-control border-success'}}) }}
                        {{ form_errors(form.dateDebut) }}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.dateFin, 'üìÖ Date de fin', {'label_attr': {'class': 'form-label text-dark fw-bold fs-5'}}) }}
                        {{ form_widget(form.dateFin, {'attr': {'class': 'form-control border-success'}}) }}
                        {{ form_errors(form.dateFin) }}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.collectes, 'üóë Collectes associ√©es', {'label_attr': {'class': 'form-label text-dark fw-bold fs-5'}}) }}
                        {{ form_widget(form.collectes, {'attr': {'class': 'form-select border-success'}}) }}
                        {{ form_errors(form.collectes) }}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.utilisation, 'üîÑ Utilisation de l\'√©nergie', {'label_attr': {'class': 'form-label text-dark fw-bold fs-5'}}) }}
                        {{ form_widget(form.utilisation, {'attr': {'class': 'form-control border-success', 'placeholder': 'Ex: Chauffage, √âlectricit√©...'}}) }}
                        {{ form_errors(form.utilisation) }}
                    </div>

                    <!-- Afficher l'image actuelle, si elle existe -->
                    {% if form.vars.value.imageUrl is not empty %}
                        <div class="mb-3">
                            <h5>üñºÔ∏è Image actuelle :</h5>
                            <img src="{{ asset('uploads/recyclage_img/' ~ form.vars.value.imageUrl) }}" alt="Image de recyclage" class="img-fluid" style="max-width: 150px;">
                        </div>
                    {% endif %}

                    <!-- Ajouter le champ d'upload d'image -->
                    <div class="mb-3">
                        {{ form_label(form.image, 'üñºÔ∏è Ajouter une nouvelle image', {'label_attr': {'class': 'form-label text-dark fw-bold fs-5'}}) }}
                        {{ form_widget(form.image, {'attr': {'class': 'form-control border-success', 'accept': 'image/*'}}) }}
                        {{ form_errors(form.image) }}
                         
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn text-white px-4 fs-5 fw-bold" style="background-color: #4CAF50;">
                            <i class="fas fa-save"></i> Enregistrer
                        </button>
                        <a href="{{ path('admin_recyclage_list') }}" class="btn btn-outline-secondary px-4 fs-5 fw-bold">
                            <i class="fas fa-arrow-left"></i> Retour
                        </a>
                    </div>
                    
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
